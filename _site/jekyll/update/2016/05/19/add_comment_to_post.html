<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title> Jekyll에 댓글 추가하기(Disqus) </title>
  <meta name="description" content="Jekyll 블로그는 기본적인 layout만을 제공해 주기 때문에 블로그 포스팅에 댓글을 달 수 있도록 만들기 위해서는 추가적인 작업이 필요하다. 댓글창을 만들기 위해 Disqus를 사용할 것이다.">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://jinyongjeong.github.io//jekyll/update/2016/05/19/add_comment_to_post.html">
  <link rel="alternate" type="application/rss+xml" title="Jeong Jinyong Blog" href="http://jinyongjeong.github.io//feed.xml">
</head>

  <body>
    <nav class="single-post-nav">
      <ul>
        <li>
          
          <a href="/jekyll/update/2016/05/15/jekyll_blog_making.html">&#8592; Previous post</a>
          
        </li>
        <li><a href="/">Posts list</a></li>
        <li>
          
        </li>
      </ul>
    </nav>
    <div class="single-post">
      <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header single-post-header" style="background-image:url('http://jinyongjeong.github.io//fig/default/default_post.jpg')">
    <div>
      <h1 class="post-title single-post-title" itemprop="name headline"> Jekyll에 댓글 추가하기(Disqus) </h1>
      <p class="post-meta single-post-meta">
        <time datetime="2016-05-19T22:44:49+09:00" itemprop="datePublished">19 May 2016</time>
        •
        
        
          1 min
        
        read
      </p>
    </div>
  </header>
  <div class="wrapper">
    <div class="single-post-summary">
      Jekyll을 이용하여 만든 블로그의 포스팅에 댓글을 추가하는 방법 소개
    </div>
    <div class="post-content single-post-content" itemprop="articleBody">
      <p>Jekyll 블로그는 기본적인 layout만을 제공해 주기 때문에 블로그 포스팅에 댓글을 달 수 있도록 만들기 위해서는 추가적인 작업이 필요하다. 댓글창을 만들기 위해 <a href="https://disqus.com/">Disqus</a>를 사용할 것이다.</p>

<h1 id="disqus--">1. Disqus 계정 만들기</h1>
<p><img align="middle" src="/fig/post/add_comment_to_post/fig1.png" width="500" height="500px" /></p>

<p>첫번째로 <a href="https://disqus.com/">Disqus</a>에 접속하여 회원가입 후 등록을 한다. 등록 후 Main 페이지에서 우측 상단의 톱니바퀴를 누르면 나오는 메뉴 중 <code class="highlighter-rouge">Setting</code>으로 이동 후 다시 <code class="highlighter-rouge">Add Disqus To Site</code>로 이동한다. 페이지 이동 후 페이지 가장 아래쪽으로 이동하면 <code class="highlighter-rouge">GET STARTED</code>를 눌러 블로그 명 및 URL을 등록한다.</p>

<h1 id="universal-code-">2. Universal Code 복사하기</h1>
<p><img align="middle" src="/fig/post/add_comment_to_post/fig2.png" width="800" height="500px" /></p>

<p>등록을 마친 후 Setting의 Installation page로 이동 후 platform을 선택한다. Jekyll에 추가하기 위해서는 Universal code를 선택한다. 이제 1번에 있는 코드를 복사하여 Jekyll의 <code class="highlighter-rouge">_layouts/post.html</code> 파일에 추가해준다.</p>

<h1 id="layoutposthtml--config--">3. Layout/post.html 및 config 파일 수정</h1>

<p><code class="highlighter-rouge">_layouts/post.html</code> 파일을 열고 <code class="highlighter-rouge">&lt;article&gt;</code> 블락 사이에 복사한 내용을 아래 코드에서 <code class="highlighter-rouge">&lt;insert your code&gt;</code> 부분에 넣어준다.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
---
layout: default_post
---
&lt;article class="post" itemscope itemtype="http://schema.org/BlogPosting"&gt;
  &lt;header class="post-header single-post-header" style="background-image:url('{{ site.url }}{{ page.image }}')"&gt;
    &lt;div&gt;
      &lt;h1 class="post-title single-post-title" itemprop="name headline"&gt;{{ page.title }}&lt;/h1&gt;
      &lt;p class="post-meta single-post-meta"&gt;
        &lt;time datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished"&gt;{{ page.date | date_to_long_string }}&lt;/time&gt;
        •
        {% assign words = page.content | number_of_words %}
        {% if words &lt; 360 %}
          1 min
        {% else %}
          {{ words | divided_by:180 }} mins
        {% endif %}
        read
      &lt;/p&gt;
    &lt;/div&gt;
  &lt;/header&gt;
  &lt;div class="wrapper"&gt;
    &lt;div class="single-post-summary"&gt;
     &lt;code&gt; {{ page.summary }} &lt;/code&gt;
    &lt;/div&gt;
    &lt;div class="post-content single-post-content" itemprop="articleBody"&gt;
     &lt;code&gt; {{ content }} &lt;/code&gt;
    &lt;/div&gt;
    {% if page.comments %}
        &lt;-- add your code here --&gt;
    {% endif %}
  &lt;/div&gt;
&lt;/article&gt;


</code></pre>
</div>

<p>포스팅에서 comment활성화 여부를 설정하기 위해서 위의 예의 주석으로 되어 있는 <code class="highlighter-rouge"><span class="p">{</span><span class="err">%</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">page.comments</span><span class="w"> </span><span class="err">%</span><span class="p">}</span></code> <code class="highlighter-rouge"><span class="p">{</span><span class="err">%</span><span class="w"> </span><span class="err">endif</span><span class="w"> </span><span class="err">%</span><span class="p">}</span></code> 이 부분을 추가해준다. 추가할 때 앞 뒤로 중괄호({})를 넣어준다. 다음으로 <code class="highlighter-rouge">_config.yml</code> 파일을 열어 마지막에 다음의 코드를 추가한다.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>disqus_shortname: myblog(등록한 본인 블로그 이름)
</code></pre>
</div>

<h1 id="post--">4. Post에 명령 추가</h1>

<p>마지막으로 포스팅을 할 때 포스팅 <code class="highlighter-rouge">.md</code> file의 맨 위에 <code class="highlighter-rouge">comments: true</code> 를 추가해 주면 포스팅에 댓글쓰기가 다음과 같이 활성화 된다.</p>

<p><img align="middle" src="/fig/post/add_comment_to_post/fig3.png" width="800" height="200px" /></p>


    </div>
    
      <div id="disqus_thread"></div>
        <script>
        /**
        * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
        * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
        */
        /*
        var disqus_config = function () {
        this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
        */
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//jinyongjeong.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    
  </div>
</article>

    </div>
    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Jeong Jinyong Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Jeong Jinyong Blog</li>
          <li><a href="mailto:jjy0923@gmail.com">jjy0923@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/jinyongjeong"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">jinyongjeong</span></a>

          </li>
          

          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>This blog will post various subjects such as computer science, algorithms and so on. Purpose of this blog is to remember the things I studied by posting it.  
</p>
      </div>
    </div>

  </div>

</footer>

  </body>
</html>
